<nav class="navbar">
    <div class="logo">
        <h1>MovieBox</h1>
    </div>
    
    <div class="nav-section">
        <h2>Películas</h2>
        <ul class="nav-links">
            <li>
                <NavLink href="/movies" class="nav-link" style="color: white !important;" Match="NavLinkMatch.All">
                    <span class="nav-icon">🎬</span> Inicio
                </NavLink>
            </li>
        </ul>
    </div>
    
    
    <div class="login-section">
        <AuthorizeView>
            <Authorized>
                <div class="user-info">
                    <div class="user-avatar">
                        <span class="user-icon">👤</span>
                    </div>
                    <div class="user-details">
                        <div class="user-name">@context.User.Identity?.Name</div>
                        <div class="user-status">Online</div>
                    </div>
                </div>
                <a href="javascript:void(0)" @onclick="Logout" class="logout-btn">
                    <span class="nav-icon">🚪</span> Cerrar Sesión
                </a>
            </Authorized>
            <NotAuthorized>
                <a href="/signin" class="login-btn">
                    <span class="nav-icon">🔑</span> Iniciar Sesión
                </a>
                <div class="register-prompt">
                    <small>¿No tienes cuenta?</small>
                    <a href="/register" class="register-link">Regístrate</a>
                </div>
            </NotAuthorized>
        </AuthorizeView>
    </div>
</nav>

@code {
    [CascadingParameter]
    private Task<AuthenticationState>? AuthenticationStateTask { get; set; }
    
    [Inject]
    private NavigationManager NavigationManager { get; set; } = default!;

    private async Task Logout()
    {
        NavigationManager.NavigateTo("/", true);
    }
}